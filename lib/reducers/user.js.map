{"version":3,"sources":["../../src/reducers/user.js"],"names":["initial_user_state","status","email","password","user","state","action","type","logout","requestLogin","receiveLogin","updateLoginField","Object","assign","profile","error","loading","user_state","key","value"],"mappings":";;;;;;;AAAA;;AAOA;;;AAGA,IAAMA,qBAAqB;AACzBC,UAAQ,SADiB;AAEzBC,SAAO,EAFkB;AAGzBC,YAAU;AAHe,CAA3B;;AAMA;;;AAGO,IAAMC,sBAAO,SAAPA,IAAO,GAAwC;AAAA,MAAvCC,KAAuC,yDAA/BL,kBAA+B;AAAA,MAAXM,MAAW;;AAC1D,UAAQA,OAAOC,IAAf;AACE;AACE,aAAOC,OAAOH,KAAP,EAAcC,MAAd,CAAP;AACF;AACE,aAAOG,aAAaJ,KAAb,EAAoBC,MAApB,CAAP;AACF;AACE,aAAOI,aAAaL,KAAb,EAAoBC,MAApB,CAAP;AACF;AACE,aAAOK,iBAAiBN,KAAjB,EAAwBC,MAAxB,CAAP;AACF;AACE,aAAOD,KAAP;AAVJ;AAYD,CAbM;;AAeP,SAASG,MAAT,CAAgBH,KAAhB,EAAuBC,MAAvB,EAA+B;AAC7B,SAAOM,OAAOC,MAAP,CAAc,EAAd,EAAkBR,KAAlB,EAAyB;AAC9BJ,YAAQ,YADsB;AAE9Ba,aAAS;AAFqB,GAAzB,CAAP;AAID;;AAED,SAASJ,YAAT,CAAsBL,KAAtB,EAA6BC,MAA7B,EAAqC;AACnC,SAAOM,OAAOC,MAAP,CAAc,EAAd,EAAkBR,KAAlB,EAAyB;AAC9BS,aAASR,OAAOQ,OADc;AAE9BC,WAAOT,OAAOS,KAFgB;AAG9Bd,YAAQK,OAAOS,KAAP,GAAe,cAAf,GAAgC,YAHV;AAI9BZ,cAAU,EAJoB;AAK9Ba,aAAS;AALqB,GAAzB,CAAP;AAOD;;AAED,SAASP,YAAT,CAAsBJ,KAAtB,EAA6BC,MAA7B,EAAqC;AACnC,SAAOM,OAAOC,MAAP,CAAc,EAAd,EAAkBR,KAAlB,EAAyB;AAC9BJ,YAAQ,gBADsB;AAE9Be,aAAS;AAFqB,GAAzB,CAAP;AAID;;AAED,SAASL,gBAAT,CAA0BN,KAA1B,EAAiCC,MAAjC,EAAyC;AACvC,MAAIW,aAAaL,OAAOC,MAAP,CAAc,EAAd,EAAkBR,KAAlB,CAAjB;AACAY,aAAWX,OAAOY,GAAlB,IAAyBZ,OAAOa,KAAhC;;AAEA,SAAOP,OAAOC,MAAP,CAAc,EAAd,EAAkBI,UAAlB,EAA8B;AACnCF,WAAO;AAD4B,GAA9B,CAAP;AAGD","file":"user.js","sourcesContent":["import {\n  LOGOUT,\n  REQUEST_LOGIN,\n  RECEIVE_LOGIN,\n  UPDATE_LOGIN_FIELD\n} from '../actions/user';\n\n/**\n * initial reducer state\n */\nconst initial_user_state = {\n  status: 'initial',\n  email: '',\n  password: ''\n};\n\n/**\n * export user reducer\n */\nexport const user = (state = initial_user_state, action) => {\n  switch (action.type) {\n    case LOGOUT:\n      return logout(state, action);\n    case REQUEST_LOGIN:\n      return requestLogin(state, action);\n    case RECEIVE_LOGIN:\n      return receiveLogin(state, action);\n    case UPDATE_LOGIN_FIELD:\n      return updateLoginField(state, action);\n    default:\n      return state;\n  }\n};\n\nfunction logout(state, action) {\n  return Object.assign({}, state, {\n    status: 'logged_out',\n    profile: {}\n  });\n}\n\nfunction receiveLogin(state, action) {\n  return Object.assign({}, state, {\n    profile: action.profile,\n    error: action.error,\n    status: action.error ? 'unauthorized' : 'authorized',\n    password: '',\n    loading: false\n  });\n}\n\nfunction requestLogin(state, action) {\n  return Object.assign({}, state, {\n    status: 'authenticating',\n    loading: true\n  });\n}\n\nfunction updateLoginField(state, action) {\n  let user_state = Object.assign({}, state);\n  user_state[action.key] = action.value;\n\n  return Object.assign({}, user_state, {\n    error: null\n  });\n}\n"]}